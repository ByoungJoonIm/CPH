{% extends "base.html" %}

{% block title %}common_subject_list.html{% endblock %}

{% block content %}
<div id="content">
	<h1>Welcome, ({{ request.user.username }})!</h1>
	{% if request.session.isProfessor %}
		<form id='subject_add' method="get" action="{% url 'judge:professor_subject_add' %}">{% csrf_token %}
			<input type="button" value="add subject" onclick="document.getElementById('subject_add').submit();"/>
		</form>

	    <h3><input type="button" value="management"/></h3>
    {% endif %}
	<table>
		<tr>
			<th>title</th>
		</tr>
		{% for obj in subject %}
		<tr>
			<td>
                <form id='{{ obj.id }}' method="post" action="{% url 'judge:common_assignment_list' obj.id %}">{% csrf_token %}
					<input type="hidden" name="subject_id" value="{{ obj.id }}"/>
					<a href="javascript:{}" onclick=document.getElementById("{{ obj.id }}").submit();>{{ obj.title }}</a>
			    </form>	
			</td>
			{% if request.session.isProfessor %}
			<td>
				<form method="post" action="?">{% csrf_token %}
					<input type="hidden" name="subject_id" value="{{ obj.id }}"/>
					<input type="submit" value="hide"/>
			    </form>	
			</td>
			{% endif %}
		</tr>
		{% endfor %}
	</table>
</div>
{% endblock content %}
